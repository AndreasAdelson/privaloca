App\Domain\Model\Company:
    type: entity
    table: company
    options:
        comment: Entité représentant un Company.

    id:
        id:
            type: integer
            generator:
                strategy: AUTO
            options:
                comment: Identifiant technique d'un company
    fields:
        name:
            type: string
            length: 191
            column: name
            nullable: false
        numSiret:
            type: string
            length: 14
            column: num_siret
            nullable: false
        urlName:
            type: string
            length: 100
            column: url_name
            nullable: false
        dtCreated:
            type: datetime
            gedmo:
                timestampable:
                    on: create
            options:
                default: CURRENT_TIMESTAMP
        descriptionFull:
            type: string
            length: 5000
            column: description_full
            nullable: true
        descriptionClean:
            type: string
            length: 2000
            column: description_clean
            nullable: true
        imageProfil:
            type: string
            length: 100
            column: image_profil
            nullable: true
    manyToOne:
        category:
            targetEntity: Category
            cascade: [persist]
            inversedBy: companys
            joinColumn:
                name: id_category
                referencedColumnName: id
                nullable: false
        companystatut:
            targetEntity: CompanyStatut
            cascade: [persist]
            inversedBy: companys
            joinColumn:
                name: id_companystatut
                referencedColumnName: id
                nullable: false
        city:
            targetEntity: City
            cascade: [persist]
            inversedBy: companys
            joinColumn:
                name: id_city
                referencedColumnName: id
                nullable: false
        utilisateur:
            targetEntity: Utilisateur
            inversedBy: companys
            joinColumn:
                name: utilisateur_id
                referencedColumnName: id
                onDelete: CASCADE
                nullable: false
            cascade: [persist,remove]


    oneToOne:
        address:
            targetEntity: Address
            inversedBy: company
            joinColumn:
                name: id_address
                referencedColumnName: id
                onDelete: CASCADE
                nullable: false
            cascade: [persist,remove]

    oneToMany:
        companySubscriptions:
            targetEntity: CompanySubscription
            orphanRemoval: true
            cascade: [persist, remove]
            mappedBy: company
        answers:
            targetEntity: Answer
            orphanRemoval: true
            cascade: [persist]
            mappedBy: company


    manyToMany:
        sousCategorys:
            targetEntity: SousCategory
            inversedBy: companys
            joinTable:
                name: company_sous_categories
                joinColumn:
                    id_sous_category:
                        referencedColumnName: id
                inverseJoinColumns:
                    id_company:
                        referencedColumnName: id





